---
layout: default
---

{% if page.ref %}
  {% assign page_translations = site.pages | where: "ref", page.ref %}
  {% assign post_translations = site.posts | where: "ref", page.ref %}
  {% assign translations = page_translations | concat: post_translations %}
  {% for translation in translations %}
    <link rel="alternate" hreflang="{{ translation.lang | default: site.default_lang }}" href="{{ translation.url | absolute_url }}">
  {% endfor %}
{% endif %}

{% assign t = site.t[page.lang] | default: site.t[site.default_lang] %}
{% assign word_count = content | strip_html | number_of_words %}
{% assign reading_time = word_count | divided_by: 200 %}
{% if reading_time < 1 %}{% assign reading_time = 1 %}{% endif %}

<article class="post">

  <!-- Breadcrumbs (full width above everything) -->
  <nav class="post__breadcrumbs" aria-label="Breadcrumb">
    <a href="{{ site.baseurl }}/{{ page.lang }}/blog/">{{ t.blog | capitalize }}</a>
    <span class="post__breadcrumbs-separator" aria-hidden="true">›</span>
    {% if page.category %}
      <a href="{{ site.baseurl }}/{{ page.lang }}/blog/?category={{ page.category | url_encode }}">{{ page.category }}</a>
      <span class="post__breadcrumbs-separator" aria-hidden="true">›</span>
    {% endif %}
    <span class="post__breadcrumbs-current">{{ page.title | truncate: 50 }}</span>
  </nav>

  <!-- ============================================ -->
  <!-- FIXED TOC SIDEBAR (outside grid flow)       -->
  <!-- ============================================ -->
  <aside class="post__sidebar post__sidebar--toc">
    <nav class="post__toc post__toc--sidebar" aria-label="Table of contents">
      <div class="post__toc-header">
        <svg class="post__toc-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5">
          <circle cx="4" cy="5" r="1.5" fill="currentColor" stroke="none"></circle>
          <circle cx="4" cy="12" r="1.5" fill="currentColor" stroke="none"></circle>
          <circle cx="4" cy="19" r="1.5" fill="currentColor" stroke="none"></circle>
          <line x1="9" y1="5" x2="21" y2="5"></line>
          <line x1="9" y1="12" x2="21" y2="12"></line>
          <line x1="9" y1="19" x2="21" y2="19"></line>
        </svg>
        {{ t.toc | default: "Contents" }}
      </div>
      <ol class="post__toc-list">
        <!-- Generated by JavaScript -->
      </ol>
    </nav>
  </aside>

  <!-- ============================================ -->
  <!-- 3-COLUMN LAYOUT GRID                        -->
  <!-- Placeholder | Content | Actions             -->
  <!-- ============================================ -->
  <div class="post__layout">

    <!-- LEFT: Placeholder for fixed TOC space -->
    <div class="post__sidebar-placeholder"></div>

    <!-- CENTER: Main Content (header + article) -->
    <div class="post__main">

      <header class="post__header">
        <h1 class="post__title">{{ page.title }}</h1>

        <div class="post__meta">
          <span class="post__meta-item post__meta-date">
            <svg class="post__meta-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <time datetime="{{ page.date | date: '%Y-%m-%d' }}">{{ page.date | date: "%Y/%m/%d" }}</time>
          </span>

          {% if page.author %}
          <span class="post__meta-separator" aria-hidden="true">•</span>
          <span class="post__meta-item post__meta-author">
            <svg class="post__meta-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            {{ page.author }}
          </span>
          {% endif %}

          <span class="post__meta-separator" aria-hidden="true">•</span>
          <span class="post__meta-item post__meta-reading">
            <svg class="post__meta-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
            {{ reading_time }} min {{ t.read | default: "read" }}
          </span>

          <span class="post__meta-separator" aria-hidden="true">•</span>
          <span class="post__meta-item post__meta-share">
            <span class="post__meta-share-label">share</span>
            <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | url_encode }}"
               class="post__share-btn post__share-btn--inline" target="_blank" rel="noopener noreferrer" title="LinkedIn">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
            <a href="https://twitter.com/intent/tweet?url={{ page.url | absolute_url | url_encode }}&text={{ page.title | url_encode }}"
               class="post__share-btn post__share-btn--inline" target="_blank" rel="noopener noreferrer" title="X/Twitter">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4l11.733 16h4.267l-11.733 -16z"></path>
                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"></path>
              </svg>
            </a>
            <button type="button" class="post__share-btn post__share-btn--inline post__share-btn--copy" data-url="{{ page.url | absolute_url }}" title="Copy link">
              <svg class="icon-copy" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
              <svg class="icon-check" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" style="display:none">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </button>
          </span>
        </div>

        {% if page.excerpt %}
        <p class="post__lead">{{ page.excerpt | strip_html }}</p>
        {% endif %}

        {% if page.filter_hash_list and page.filter_hash_list.size > 0 %}
        <div class="post__tags">
          {% for tag in page.filter_hash_list %}
            <span class="post__tag">{{ tag }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </header>

      <!-- INLINE TOC (tablet/mobile only) -->
      <nav class="post__toc post__toc--inline" aria-label="Table of contents">
        <details class="post__toc-details"{% if page.toc_expanded != false %} open{% endif %}>
          <summary class="post__toc-title">
            <svg class="post__toc-icon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5">
              <circle cx="4" cy="5" r="1.5" fill="currentColor" stroke="none"></circle>
              <circle cx="4" cy="12" r="1.5" fill="currentColor" stroke="none"></circle>
              <circle cx="4" cy="19" r="1.5" fill="currentColor" stroke="none"></circle>
              <line x1="9" y1="5" x2="21" y2="5"></line>
              <line x1="9" y1="12" x2="21" y2="12"></line>
              <line x1="9" y1="19" x2="21" y2="19"></line>
            </svg>
            {{ t.toc | default: "Table of Contents" }}
            <svg class="post__toc-chevron" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </summary>
          <ol class="post__toc-list">
            <!-- Generated by JavaScript -->
          </ol>
        </details>
      </nav>

      <!-- CONTENT SECTION (same width as header) -->
      <div class="post__content entry" data-bibliography-expanded="{{ page.bibliography_expanded | default: false }}">
        {{ content }}
      </div>

    </div>
    <!-- End Main -->

  </div>
  <!-- End Layout Grid -->

  <!-- Post index for prev/next navigation -->
  {% assign posts_in_lang = site.posts | where: "lang", page.lang | sort: "date" %}
  {% assign post_index = nil %}
  {% for p in posts_in_lang %}
    {% if p.url == page.url %}
      {% assign post_index = forloop.index0 %}
    {% endif %}
  {% endfor %}

  {% if post_index != nil %}
    {% assign prev_index = post_index | plus: 1 %}
    {% assign next_index = post_index | minus: 1 %}
    {% assign prev_post = posts_in_lang[prev_index] %}
    {% assign next_post = posts_in_lang[next_index] %}
  {% endif %}

  <!-- Author Bio Section -->
  {% if page.author %}
    {% assign author_key = page.author | downcase %}
    {% assign author = site.data.authors[author_key] %}
  <div class="post__author-bio">
    {% if author.avatar %}
      <img src="{{ author.avatar | relative_url }}" alt="{{ author.name }}" class="post__author-avatar post__author-avatar--image">
    {% else %}
      <div class="post__author-avatar">{{ author.name | default: page.author | slice: 0 }}</div>
    {% endif %}
    <div class="post__author-info">
      <div class="post__author-name">{{ author.name | default: page.author }}</div>
      {% if author.role[page.lang] %}
        <div class="post__author-role">{{ author.role[page.lang] }}</div>
      {% endif %}
      {% if author.bio[page.lang] %}
        <p class="post__author-description">{{ author.bio[page.lang] }}</p>
      {% endif %}
      <div class="post__author-links">
        <a href="{{ site.baseurl }}/{{ page.lang }}/about/#{{ author.slug }}" class="post__action-link">
          {{ t.about_author | default: "about author" }}</a>{% if author.social.linkedin %}<span class="post__meta-separator" aria-hidden="true">•</span><a href="{{ author.social.linkedin }}" class="post__action-link" target="_blank" rel="noopener noreferrer">{{ t.linkedin_profile | default: "linkedin profile" }}</a>{% endif %}
      </div>
    </div>
  </div>
  {% endif %}

  <!-- Bibliography state script -->
  <script>
    (function() {
      var content = document.querySelector('.post__content[data-bibliography-expanded]');
      if (!content) return;
      var shouldExpand = content.dataset.bibliographyExpanded === 'true';
      var bibDetails = content.querySelector('.post__bibliography-details');
      if (bibDetails && shouldExpand) {
        bibDetails.setAttribute('open', '');
      }
    })();
  </script>

<!-- Navigation Footer -->
<nav class="expertise__nav">
  <a href="{{ site.baseurl }}/{{ page.lang }}/blog/" class="expertise__nav-link">
    <svg class="expertise__nav-icon expertise__nav-icon--before" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
       <polyline points="11 17 6 12 11 7"></polyline>
        <polyline points="18 17 13 12 18 7"></polyline>
    </svg>
    blog
  </a>

  <a href="{{ prev_post.url | relative_url }}" class="expertise__nav-link" title="{{ prev_post.title }}">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
            prev
  </a>

  <button type="button" class="expertise__nav-link" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
    go to top
    <svg class="expertise__nav-icon expertise__nav-icon--after" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="18 15 12 9 6 15"></polyline>
    </svg>
  </button>

  <a href="{{ next_post.url | relative_url }}" class="expertise__nav-link" title="{{ next_post.title }}">
            next
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
  </a>

  {% include disqus.html %}
</article>

<script src="{{ site.baseurl }}/assets/post-share.js" defer></script>
<script src="{{ site.baseurl }}/assets/post-toc.js" defer></script>
